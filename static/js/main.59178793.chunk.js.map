{"version":3,"sources":["assets/images/photo.png","redux/dialogs-reducer.js","components/Users/Users.module.css","assets/images/Spin.svg","components/common/Preloader/Preloader.module.css","hoc/withAuthRedirect.jsx","api/api.js","components/Navbar/Navbar.module.css","serviceWorker.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.jsx","App.js","index.js","components/common/Preloader/Preloader.js","components/common/FormControls/FormControls.jsx","components/common/FormControls/FormControls.module.css","components/common/paginator/Paginator.module.css","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["module","exports","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","response","data","unfollow","delete","follow","post","getProfile","userId","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","getMe","login","email","password","rememberMe","logaut","Boolean","window","location","hostname","match","Header","className","s","header","src","alt","loginBlock","onClick","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","HeaderContainer","Navbar","nav","item","activeClassName","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFollowingProgress","setUsers","setCurrentPage","setTotalUsersCount","count","toggleIsFetching","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","p","cn","selectedPage","pageNumber","key","e","User","user","photos","small","userPhoto","usersPhoto","disabled","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIComponent","requestUsers","Preloader","compose","bind","page","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","Input","Element","onSubmit","createField","required","formSammaryError","length","stopSubmit","_error","formData","log","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializedApp","path","render","UsersContainer","AppContainer","withRouter","promise","Promise","all","then","MyJSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","input","meta","touched","hasError","formControl","plaseholder","validators","component","text","placeholder","validate","value","undefined","maxLengthCreator","maxLength","posts","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","likesCount","postId"],"mappings":"2FAAAA,EAAOC,QAAU,IAA0B,mC,sFCGvCC,EAAe,CAEjBC,QAAS,CACP,CAACC,GAAI,EAAGC,KAAM,UACd,CAACD,GAAI,EAAGC,KAAM,QACd,CAACD,GAAI,EAAGC,KAAM,SACd,CAACD,GAAI,EAAGC,KAAM,UACd,CAACD,GAAI,EAAGC,KAAM,UACd,CAACD,GAAI,EAAGC,KAAM,UAGhBC,SAAU,CACR,CAACF,GAAI,EAAGG,QAAS,MACjB,CAACH,GAAI,EAAGG,QAAS,eACjB,CAACH,GAAI,EAAGG,QAAS,MACjB,CAACH,GAAI,EAAGG,QAAS,MACjB,CAACH,GAAI,EAAGG,QAAS,MACjB,CAACH,GAAI,EAAGG,QAAS,QAoBRC,EAAqB,SAACC,GAAD,MAAqB,CAAEC,KAvCpC,eAuCwDD,mBAE9DE,IAlBQ,WAAmC,IAAlCC,EAAiC,uDAAzBV,EAAcW,EAAW,uCAEvD,OAAOA,EAAOH,MAEZ,IA3BiB,eA4Bf,IAAIH,EAAUM,EAAOJ,eACrB,OAAO,eACFG,EADL,CAEEN,SAAS,GAAD,mBAAMM,EAAMN,UAAZ,CAAsB,CAACF,GAAI,EAAGG,eAE1C,QACE,OAAOK,K,oBClCbZ,EAAOC,QAAU,CAAC,WAAa,0BAA0B,cAAgB,+B,oBCDzED,EAAOC,QAAU,IAA0B,kC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,+B,+ICGxBa,EAA6B,SAACF,GAAD,MAAY,CAC3CG,OAAQH,EAAMI,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IACtCC,EADqC,iLAGnC,OAAIC,KAAKC,MAAMN,OACR,kBAACG,EAAcE,KAAKC,OADG,kBAAC,IAAD,CAAUC,GAAI,eAHT,GACXC,IAAML,WAStC,OAFqCM,YAAQV,EAARU,CAAoCL,K,2KCdvEM,E,OAAWC,EAAMC,OAAO,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAAW,0CAKNC,EAAW,CACdC,SADc,WAC4B,IAAjCC,EAAgC,uDAAlB,EAAGC,EAAe,uDAAJ,GAAI,iIACpBT,EAASU,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAD5B,cACrCE,EADqC,yBAEpCA,EAASC,MAF2B,8CAIzCC,SALc,SAKLlC,GAAK,OAAD,0HACQqB,EAASc,OAAT,iBAA0BnC,IADlC,cACTgC,EADS,yBAERA,EAASC,MAFD,8CAIbG,OATc,SASPpC,GAAK,OAAD,0HACUqB,EAASgB,KAAT,iBAAwBrC,IADlC,cACPgC,EADO,yBAENA,EAASC,MAFH,8CAIjBK,WAboB,SAaTC,GAEP,OADAC,QAAQC,KAAK,8CACNC,EAAWJ,WAAWC,KAIxBG,EAAa,CACtBJ,WADsB,SACXC,GACP,OAAOlB,EAASU,IAAT,kBAAwBQ,KAEnCI,UAJsB,SAIZJ,GACN,OAAOlB,EAASU,IAAT,yBAA+BQ,KAE1CK,aAPsB,SAOTC,GACT,OAAOxB,EAASyB,IAAT,iBAA+B,CAACD,OAAQA,MAI1CE,EAAU,CAKnBC,MALmB,WAMhB,OAAO3B,EAASU,IAAT,YAEVkB,MARmB,SAQbC,EAAOC,GAA+B,IAArBC,EAAoB,wDACvC,OAAO/B,EAASgB,KAAT,aAA4B,CAACa,QAAOC,WAAUC,gBAEzDC,OAXmB,WAYf,OAAOhC,EAASc,OAAT,iB,+ECrDfvC,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,OAAS,yB,gICW7DyD,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,wHCCSC,EAfA,SAAC1C,GACZ,OACE,4BAAQ2C,UAAWC,IAAEC,QACnB,yBAAKC,IAAI,8pKAA8pKC,IAAI,SAE3qK,yBAAKJ,UAAYC,IAAEI,YACfhD,EAAMN,OACN,iCAAOM,EAAMgC,MAAb,MAAsB,4BAAQiB,QAASjD,EAAMoC,QAAvB,WAAtB,KACA,kBAAC,IAAD,CAASnC,GAAG,UAAZ,Y,uDCNRpB,EAAe,CAEjByC,OAAQ,KACRU,MAAO,KACPC,MAAO,KACPvC,QAAQ,GAgBGwD,EAAkB,SAAC5B,EAAQU,EAAOC,EAAOvC,GAAvB,MAAmC,CAAEL,KAxB5C,gBAwBiE8D,QAAS,CAAE7B,SAAQU,QAAOC,QAAOvC,YAE7G0D,EAAkB,yDAAM,WAAOC,GAAP,uBAAAC,EAAA,sEACZxB,IAAQC,QADI,OAED,KAD5BhB,EAD6B,QAErBC,KAAKuC,aAAmB,EACTxC,EAASC,KAAKA,KAAlCjC,EAD4B,EAC5BA,GAAIiD,EADwB,EACxBA,MAAOC,EADiB,EACjBA,MAChBoB,EAASH,EAAgBnE,EAAIiD,EAAOC,GAAO,KAJZ,2CAAN,uDAyBhBuB,EAxCK,WAAmC,IAAlCjE,EAAiC,uDAAzBV,EAAcW,EAAW,uCACpD,OAAOA,EAAOH,MACZ,IAboB,gBAclB,OAAO,eACFE,EADL,GAEKC,EAAO2D,SAEd,QACE,OAAO5D,IChBPkE,E,iLAGF,OAAO,kBAAC,EAAY1D,KAAKC,W,GAHCE,IAAML,WAYrBM,eALS,SAACZ,GAAD,MAAY,CAClCG,OAAQH,EAAMI,KAAKD,OACnBsC,MAAOzC,EAAMI,KAAKqC,SAGoB,CAACI,OD4BnB,yDAAM,WAAOiB,GAAP,SAAAC,EAAA,sEACHxB,IAAQM,SADL,OAEM,IAFN,OAEdpB,KAAKuC,YACfF,EAASH,EAAgB,KAAM,KAAM,MAAM,IAHnB,2CAAN,wDC5BP/C,CAAmCsD,G,iBCWnCC,EAzBA,WACb,OACE,yBAAKf,UAAWC,IAAEe,KAChB,yBAAKhB,UAAS,UAAKC,IAAEgB,OACnB,kBAAC,IAAD,CAAS3D,GAAG,WAAW4D,gBAAiBjB,IAAEkB,QAA1C,YAEF,yBAAKnB,UAAWC,IAAEgB,MAChB,kBAAC,IAAD,CAAS3D,GAAG,WAAW4D,gBAAiBjB,IAAEkB,QAA1C,aAEF,yBAAKnB,UAAWC,IAAEgB,MAChB,kBAAC,IAAD,CAAS3D,GAAG,QAAQ4D,gBAAiBjB,IAAEkB,QAAvC,SAEF,yBAAKnB,UAAWC,IAAEgB,MAChB,kBAAC,IAAD,CAAS3D,GAAG,SAAS4D,gBAAiBjB,IAAEkB,QAAxC,UAEF,yBAAKnB,UAAWC,IAAEgB,MAChB,kBAAC,IAAD,CAAS3D,GAAG,YAAY4D,gBAAiBjB,IAAEkB,QAA3C,aAEF,yBAAKnB,UAAWC,IAAEgB,MAChB,kBAAC,IAAD,CAAS3D,GAAG,SAAS4D,gBAAiBjB,IAAEkB,QAAxC,Y,QCZOC,G,OARF,SAAC/D,GACV,OACI,uCCMOgE,G,OARD,SAAChE,GACX,OACI,wCCMOiE,G,OARE,SAACjE,GACd,OACI,2C,QCLKkE,EAAsB,SAACC,EAAOC,EAAQC,EAAaC,GAC9D,OAAOH,EAAMI,KAAI,SAAAC,GACf,OAAIA,EAAEH,KAAiBD,EACd,eAAII,EAAX,GAAiBF,GAEZE,MCOP3F,EAAe,CAEjB4F,MAAO,GACP5D,SAAU,GACV6D,gBAAiB,EACjB9D,YAAa,EACb+D,YAAY,EACZC,oBAAqB,IAuDVC,EAAgB,SAACvD,GAAD,MAAa,CAAEjC,KAvE7B,SAuE2CiC,WAC7CwD,EAAkB,SAACxD,GAAD,MAAa,CAAEjC,KAvE7B,WAuE6CiC,WACjDyD,EAA4B,SAACJ,EAAYrD,GAAb,MAAyB,CAAEjC,KAnE/B,+BAmEmEsF,aAAYrD,WACvG0D,EAAW,SAACP,GAAD,MAAY,CAAEpF,KAxEpB,YAwEqCoF,UAC1CQ,EAAiB,SAACrE,GAAD,MAAkB,CAAEvB,KAxEzB,mBAwEiDuB,gBAC7DsE,EAAqB,SAACR,GAAD,MAAsB,CAAErF,KAxE5B,wBAwEyD8F,MAAOT,IACjFU,EAAmB,SAACT,GAAD,MAAiB,CAAEtF,KAxExB,qBAwEkDsF,eAgBvEU,EAAkB,uCAAG,WAAOhC,EAAU/B,EAAQgE,EAAWC,GAApC,SAAAjC,EAAA,6DACzBD,EAAS0B,GAA0B,EAAMzD,IADhB,SAENgE,EAAUhE,GAFJ,OAGD,IAHC,OAGhBiC,YACPF,EAASkC,EAAcjE,IAEzB+B,EAAS0B,GAA0B,EAAOzD,IANjB,2CAAH,4DAoBTkE,EA9FM,WAAmC,IAAlCjG,EAAiC,uDAAzBV,EAAcW,EAAW,uCACrD,OAAOA,EAAOH,MACZ,IArBW,SAsBT,OAAO,eACFE,EADL,CAEEkF,MAAOP,EAAoB3E,EAAMkF,MAAOjF,EAAO8B,OAAQ,KAAM,CAACmE,UAAU,MAS5E,IAhCa,WAiCX,OAAO,eACFlG,EADL,CAEEkF,MAAOP,EAAoB3E,EAAMkF,MAAOjF,EAAO8B,OAAQ,KAAM,CAACmE,UAAU,MAS5E,IA3Cc,YA4CZ,OAAO,eAAIlG,EAAX,CAAkBkF,MAAOjF,EAAOiF,QAElC,IA7CqB,mBA8CnB,OAAO,eAAIlF,EAAX,CAAkBqB,YAAapB,EAAOoB,cAExC,IA/C0B,wBAgDxB,OAAO,eAAIrB,EAAX,CAAkBmF,gBAAiBlF,EAAO2F,QAE5C,IAjDuB,qBAkDrB,OAAO,eAAI5F,EAAX,CAAkBoF,WAAYnF,EAAOmF,aAEvC,IAnDiC,+BAoD/B,OAAO,eACFpF,EADL,CAEEqF,oBAAqBpF,EAAOmF,WAAP,sBACfpF,EAAMqF,qBADS,CACYpF,EAAO8B,SACtC/B,EAAMqF,oBAAoBc,QAAO,SAAA3G,GAAE,OAAEA,IAAKS,EAAO8B,YAGvD,QACE,OAAO/B,I,6DChCEoG,GAhCG,SAAC,GAGf,IAH8F,IAA9EjB,EAA6E,EAA7EA,gBAAiB7D,EAA4D,EAA5DA,SAAUD,EAAkD,EAAlDA,YAAagF,EAAqC,EAArCA,cAAqC,IAAtBC,mBAAsB,MAAR,GAAQ,EACvFC,EAAaC,KAAKC,KAAKtB,EAAkB7D,GACzCoF,EAAQ,GACLC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAGf,IAAME,EAAeL,KAAKC,KAAKF,EAAaD,GAPiD,EAQnDQ,mBAAS,GAR0C,mBAQtFC,EARsF,KAQvEC,EARuE,KASvFC,GAAyBF,EAAgB,GAAKT,EAAc,EAC5DY,EAAyBH,EAAgBT,EAE/C,OAAO,yBAAKlD,UAAW+D,IAAOC,WACxBL,EAAgB,GAClB,4BAAQrD,QAAS,WAAQsD,EAAiBD,EAAgB,KAA1D,QAEKL,EACIP,QAAO,SAAAkB,GAAC,OAAIA,GAAKJ,GAAyBI,GAAGH,KAC7ClC,KAAI,SAACqC,GACN,OAAO,0BAAMjE,UAAYkE,KAAG,eACvBH,IAAOI,aAAelG,IAAgBgG,GACxCF,IAAOK,YACGC,IAAKJ,EACL3D,QAAS,SAACgE,GACPrB,EAAcgB,KACdA,MAEnBR,EAAeE,GAChB,4BAAQrD,QAAS,WAAQsD,EAAiBD,EAAgB,KAA1D,U,0CCGGY,GA/BF,SAAC,GAAmD,IAAlDC,EAAiD,EAAjDA,KAAMvC,EAA2C,EAA3CA,oBAAqB3D,EAAsB,EAAtBA,SAAUE,EAAY,EAAZA,OAChD,OAAO,6BACK,8BACI,6BACI,kBAAC,IAAD,CAASlB,GAAI,YAAckH,EAAKpI,IAC5B,yBAAK+D,IAA2B,OAAtBqE,EAAKC,OAAOC,MAAiBF,EAAKC,OAAOC,MAAQC,KAAW3E,UAAW+D,KAAOa,WAAYxE,IAAI,aAGhH,6BACKoE,EAAK1B,SACA,4BAAQ+B,SAAU5C,EACf6C,MAAK,SAAA1I,GAAE,OAAIA,IAAOoI,EAAKpI,MACpBkE,QAAS,WAAOhC,EAASkG,EAAKpI,MAFpC,YAGA,4BAAQyI,SAAW5C,EAChB6C,MAAK,SAAA1I,GAAE,OAAIA,IAAKoI,EAAKpI,MAClBkE,QAAS,WAAQ9B,EAAOgG,EAAKpI,MAFnC,YAKd,8BACI,8BACI,6BAAMoI,EAAKnI,MACX,6BAAMmI,EAAKvF,SAEf,8BACI,6BAAM,sBACN,6BAAM,uBCZf8F,GAdD,SAAC,GAAuE,IAAtE9G,EAAqE,EAArEA,YAAagF,EAAwD,EAAxDA,cAAelB,EAAyC,EAAzCA,gBAAiB7D,EAAwB,EAAxBA,SAAab,EAAW,4EAEjF,OAAO,6BACH,kBAAC,GAAD,CAAWY,YAAaA,EAAagF,cAAeA,EAAelB,gBAAiBA,EAAiB7D,SAAUA,IAC/G,6BACMb,EAAMyE,MAAMF,KAAI,SAAAC,GAAC,OAAI,kBAAC,GAAD,CAAM2C,KAAM3C,EACPwC,IAAKxC,EAAEzF,GACP6F,oBAAqB5E,EAAM4E,oBAC3B3D,SAAUjB,EAAMiB,SAChBE,OAAQnB,EAAMmB,e,0BCbzCR,GAAW,SAACpB,GACvB,OAAOA,EAAMoI,UAAUlD,OAEZmD,GAAc,SAACrI,GAC1B,OAAOA,EAAMoI,UAAU9G,UAEZgH,GAAqB,SAACtI,GACjC,OAAOA,EAAMoI,UAAUjD,iBAGZoD,GAAiB,SAACvI,GAC7B,OAAOA,EAAMoI,UAAU/G,aAGZmH,GAAgB,SAACxI,GAC5B,OAAOA,EAAMoI,UAAUhD,YAEZqD,GAAyB,SAACzI,GACrC,OAAOA,EAAMoI,UAAU/C,qBCJnBqD,G,2MASFrC,cAAgB,SAACmB,GAAgB,IACtBlG,EAAY,EAAKb,MAAjBa,SACP,EAAKb,MAAMkI,aAAanB,EAAYlG,I,mFAPnB,IAAD,EACgBd,KAAKC,MAA9BY,EADS,EACTA,YAAaC,EADJ,EACIA,SACpBd,KAAKC,MAAMkI,aAAatH,EAAaC,K,+BASrC,OAAO,oCACFd,KAAKC,MAAM2E,WAAa,kBAACwD,GAAA,EAAD,MAAgB,KACzC,kBAAC,GAAD,CAAOzD,gBAAiB3E,KAAKC,MAAM0E,gBAC3B7D,SAAWd,KAAKC,MAAMa,SACtBD,YAAab,KAAKC,MAAMY,YACxBgF,cAAe7F,KAAK6F,cACpBnB,MAAO1E,KAAKC,MAAMyE,MAClBxD,SAAUlB,KAAKC,MAAMiB,SACrBE,OAAQpB,KAAKC,MAAMmB,OACnByD,oBAAqB7E,KAAKC,MAAM4E,2B,GAxBpB1E,IAAML,WAmDvBuI,gBAEXjI,aAboB,SAACZ,GACrB,MAAO,CACHkF,MAAO9D,GAASpB,GAChBsB,SAAU+G,GAAYrI,GACtBmF,gBAAiBmD,GAAmBtI,GACpCqB,YAAakH,GAAevI,GAC5BoF,WAAYoD,GAAcxI,GAC1BqF,oBAAqBoD,GAAuBzI,MAMvB,CACrB4B,OLqCc,SAACG,GACrB,8CAAO,WAAO+B,GAAP,SAAAC,EAAA,sEACC+B,EAAmBhC,EAAU/B,EAAQZ,IAASS,OAAOkH,KAAK3H,KAAWmE,GADtE,2CAAP,mDAAM,IKrCA5D,SLyCgB,SAACK,GACvB,8CAAO,WAAO+B,GAAP,SAAAC,EAAA,sEACC+B,EAAmBhC,EAAU/B,EAAQZ,IAASO,SAASoH,KAAK3H,KAAWoE,GADxE,2CAAP,mDAAM,IKzCAG,iBACAF,4BACAmD,aLWoB,WAAyB,IAAxBI,EAAuB,uDAAhB,EAAGzH,EAAa,uCAClD,8CAAO,WAAOwC,GAAP,eAAAC,EAAA,6DACLD,EAAS+B,GAAiB,IAC1B/B,EAAS4B,EAAeqD,IAFnB,SAIc5H,IAASC,SAAS2H,EAAMzH,GAJtC,OAICG,EAJD,OAMLqC,EAAS+B,GAAiB,IAC1B/B,EAAS2B,EAAShE,EAAKmD,QACvBd,EAAS6B,EAAmBlE,EAAKuH,aAR5B,2CAAP,mDAAM,MKnBOH,CASbH,I,gDCpCIO,GAAiBC,aAAU,CAAEC,KAAM,WAAlBD,EA5BL,SAAC,GAA2B,IAA1BE,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,MACxBC,EAAQC,aAAQ,SACtB,OACI,6BACI,0BAAMC,SAAUJ,GACXK,aAAY,QAAS,QAAS,CAACC,MAAWJ,GAC1CG,aAAY,WAAY,WAAY,CAACC,MAAWJ,EAAO,CAACxJ,KAAM,aAC9D2J,aAAY,KAAM,aAAc,GAAIH,EAAO,CAACxJ,KAAM,YAAa,eAU/DuJ,GAAS,yBAAKjG,UAAWC,KAAEsG,kBACvBN,GAEL,6BACI,+CA8BLzI,gBAJS,SAACZ,GAAD,MAAY,CAChCG,OAAQH,EAAMI,KAAKD,UAGiB,CAACsC,MbxBpB,SAACC,EAAOC,EAAUC,GAAlB,8CAAiC,WAAOkB,GAAP,iBAAAC,EAAA,sEAC7BxB,IAAQE,MAAMC,EAAOC,EAAUC,GADF,OAEpB,KAD1BpB,EAD8C,QAExCC,KAAKuC,WACfF,EAASD,MAEHlE,EAAU6B,EAASC,KAAK/B,SAASkK,OAAS,EAAIpI,EAASC,KAAK/B,SAAS,GAAK,aAChFoE,EAAS+F,YAAW,UAAW,CAACC,OAAQnK,MANU,2CAAjC,wDawBNiB,EArBD,SAACH,GAKX,OAAIA,EAAMN,OACC,kBAAC,IAAD,CAAUO,GAAI,aAIrB,6BACI,qCACA,kBAACuI,GAAD,CAAgBO,SAXP,SAACO,GACd/H,QAAQgI,IAAID,GACZtJ,EAAMgC,MAAMsH,EAASrH,MAAOqH,EAASpH,SAAUoH,EAASnH,mBCtC5DtD,GAAe,CACjB2K,aAAa,GAuBAC,GApBI,WAAmC,IAAlClK,EAAiC,uDAAzBV,GAAcW,EAAW,uCACnD,OAAOA,EAAOH,MACZ,IATwB,sBAUtB,OAAO,eACFE,EADL,CAEEiK,aAAa,IAEjB,QACE,OAAOjK,I,mBCjBTV,GAAgB,GAQL6K,GAJQ,WAAmC,IAAlCnK,EAAiC,uDAAzBV,GAAyB,iCACrD,OAAOU,G,oBCKPoK,GAAWC,aAAgB,CAC3BC,YAAaC,KACbC,YAAazK,KACb0K,QAASN,GACT/B,UAAWnC,EACX7F,KAAM6D,EACNyG,IAAKR,GACLf,KAAMwB,OAGJC,GAAmB7H,OAAO8H,sCAAwChC,KAClEiC,GAAQC,aAAYX,GAAUQ,GAAiBI,aAAgBC,QAGrElI,OAAOmI,UAAYJ,GAEJA,UCtBFK,GAAe,SAAC7K,GAGzB,OAAO,SAAAG,GACH,OAAO,kBAAC,IAAM2K,SAAP,CAAgBC,SAAU,kBAACzC,GAAA,EAAD,OACrB,kBAACtI,EAAcG,MCS7B6K,GAAmB3K,IAAM4K,MAAK,kBAAM,iCACpCC,GAAmB7K,IAAM4K,MAAK,kBAAM,iCAEpCE,G,4LAGFjL,KAAKC,MAAMiL,mB,+BAIX,OAAIlL,KAAKC,MAAMwJ,YAIb,yBAAK7G,UAAU,eACb,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAQA,UAAU,WAClB,yBAAKA,UAAU,uBAOb,kBAAC,IAAD,CAAOuI,KAAK,WAAWC,OAAST,GAAaG,MAC7C,kBAAC,IAAD,CAAOK,KAAK,oBAAoBC,OAAST,GAAaK,MACtD,kBAAC,IAAD,CAAOG,KAAK,QAAQC,OAAS,kBAAM,kBAAC,EAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAS,kBAAM,kBAAC,EAAD,SACpC,kBAAC,IAAD,CAAOD,KAAK,YAAYC,OAAS,kBAAM,kBAAC,EAAD,SACvC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAACC,GAAD,SACnC,kBAAC,IAAD,CAAOF,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,WAnBhC,kBAAChD,GAAA,EAAD,U,GARKjI,IAAML,WA0CpBwL,GAAejD,aACfkD,IACAnL,aAVoB,SAACZ,GAAD,MAAY,CAClCiK,YAAajK,EAAM0K,IAAIT,eASI,CAACyB,eJzCA,kBAAM,SAAC5H,GACnC,IAAIkI,EAAUlI,EAASD,KACvBoI,QAAQC,IAAI,CAACF,IAAUG,MAAK,kBAAMrI,EAJK,CAAEhE,KApBf,+BI6DT+I,CAE6B4C,IAUjCW,GARC,SAAC3L,GACf,OAAO,kBAAC,IAAD,KACG,kBAAC,IAAD,CAAUqK,MAAOA,IACb,kBAACgB,GAAD,SCvDhBO,IAAST,OAAO,kBAAC,GAAD,MAAaU,SAASC,eAAe,SrBoH/C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMP,MAAK,SAAAQ,GACjCA,EAAaC,iB,gCsBrInB,wDAQehE,IAJG,SAACnI,GACf,OAAO,yBAAK8C,IAAKsJ,IAAWzJ,UAAW+D,IAAO0F,UAAWrJ,IAAI,gB,yJCwBpD+F,EAAU,SAAAA,GAAO,OAAI,YAA8B,IAA5BuD,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAAStM,EAAW,gCACtDuM,EAAkBD,EAAlBC,QAAS3D,EAAS0D,EAAT1D,MACV4D,EAAWD,GAAW3D,EAC5B,OACE,yBAAKjG,UAAS,UAAKC,IAAE6J,YAAP,YAAsBD,EAAW5J,IAAEgG,MAAQ,KACvD,6BACE,kBAAC,EAAD,iBAAayD,EAAWrM,KAEzBwM,GAAY,8BAAOF,EAAK1D,UAKlBI,EAAc,SAAC0D,EAAa1N,EAAM2N,EAAYC,GAAhC,IAA2C5M,EAA3C,uDAAmD,GAAI6M,EAAvD,uDAA8D,GAA9D,OACzB,6BACE,kBAAC,IAAD,eAAOC,YAAaJ,EAAa1N,KAAMA,EAAM4N,UAAWA,EAAWG,SAAUJ,GAAgB3M,IAD/F,IACyG6M,K,mBC3C3GlO,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,mBCAzHD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,aAAe,kC,gCCDrH,oEAAO,IAAMqK,EAAW,SAAA+D,GACtB,OAAQA,OAASC,EAAY,qBAGlBC,EAAmB,SAACC,GAAD,OAAe,SAACH,GAC9C,GAAGA,EAAM7D,OAASgE,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,mBCJ/BxO,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,2NCM3DC,EAAe,CAEjBuO,MAAO,GAMPC,QAAS,KACTzL,OAAQ,IAyCG0L,EAAuB,SAACC,GAAD,MAAkB,CAAElO,KAvDvC,WAuDuDkO,gBAE3DC,EAAY,SAAC5L,GAAD,MAAa,CAAEvC,KAvDrB,aAuDuCuC,WAG7C6L,EAAiB,SAACnM,GAAD,8CAAY,WAAO+B,GAAP,eAAAC,EAAA,sEACjB5C,IAASW,WAAWC,GADH,OAClCP,EADkC,OAExCsC,EAN0C,CAAEhE,KAvDrB,mBAuD6CgO,QAM5CtM,EAASC,OAFO,2CAAZ,uDAIjBU,EAAY,SAACJ,GAAD,8CAAY,WAAO+B,GAAP,eAAAC,EAAA,sEACZ7B,IAAWC,UAAUJ,GADT,OAC7BP,EAD6B,OAEnCsC,EAASmK,EAAUzM,EAASC,OAFO,2CAAZ,uDAIZW,EAAe,SAACC,GAAD,8CAAY,WAAOyB,GAAP,SAAAC,EAAA,sEACf7B,IAAWE,aAAaC,GADT,OAEN,IAFM,OAE1BZ,KAAKuC,YACfF,EAASmK,EAAU5L,IAHiB,2CAAZ,uDASbkI,IA3DQ,WAAmC,IAAlCvK,EAAiC,uDAAzBV,EAAcW,EAAW,uCACvD,OAAOA,EAAOH,MACZ,IApBa,WAqBX,IAAMqO,EAAU,CACd3O,GAAI,EACJG,QAASM,EAAO+N,YAChBI,WAAY,GAEd,OAAO,eACFpO,EADL,CAEE6N,MAAM,GAAD,mBAAM7N,EAAM6N,OAAZ,CAAmBM,MAG5B,IA9BqB,mBA+BnB,OAAO,eACFnO,EADL,CAEE8N,QAAS7N,EAAO6N,UAGpB,IAnCe,aAoCb,OAAO,eACF9N,EADL,CAEEqC,OAAQpC,EAAOoC,SAGnB,IAxCgB,cAyCd,OAAO,eACFrC,EADL,CAEE6N,MAAM,YAAK7N,EAAM6N,MAAM1H,QAAO,SAAAkB,GAAC,OAAIA,EAAE7H,KAAOS,EAAOoO,aAGvD,QACE,OAAOrO,M","file":"static/js/main.59178793.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/photo.6db09181.png\";","\nconst SEND_MESSAGE = 'SEND-MESSAGE';\n\nlet initialState = {\n  \n  dialogs: [\n    {id: 1, name: 'Andrey'},\n    {id: 2, name: 'Dima'},\n    {id: 3, name: 'Sveta'},\n    {id: 4, name: 'Valera'},\n    {id: 5, name: 'Victor'},\n    {id: 6, name: 'Sasha'}\n  ],\n\n  messages: [\n    {id: 1, message: 'Hi'},\n    {id: 2, message: 'How are you'},\n    {id: 3, message: 'Yo'},\n    {id: 4, message: 'Yo'},\n    {id: 5, message: 'Yo'},\n    {id: 6, message: 'Yo'}\n  ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n\n  switch(action.type) {\n    \n    case SEND_MESSAGE:\n      let message = action.newMessageBody;\n      return {\n        ...state,\n        messages: [...state.messages, {id: 7, message}]\n      };\n    default:\n      return state;\n  }\n  \n}\n\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\n\nexport default dialogsReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__1j7BB\",\"cursorPointer\":\"Users_cursorPointer__1LPW4\"};","module.exports = __webpack_public_path__ + \"static/media/Spin.1336a69b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1yHYn\"};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import Axios from \"axios\"\r\n\r\nconst instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"f9529b93-30b8-4394-b072-ee0546f292c2\"\r\n    }\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    async getUsers(currentPage = 1, pageSize = 10) {\r\n        const response = await instance.get(`users?page=${currentPage}&count=${pageSize}`);\r\n        return response.data;\r\n    },\r\n    async unfollow(id) {\r\n        const response = await instance.delete(`follow/${id}`);\r\n        return response.data;\r\n    },\r\n    async follow(id) {\r\n        const response = await instance.post(`follow/${id}`);\r\n        return response.data;\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n        // return instance.get(`profile/${userId}`)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    // async getMe() {\r\n    //     const response = await instance.get(`auth/me`);\r\n    //     return response.data;\r\n    // },\r\n    getMe(){\r\n       return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logaut() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2xKqi\",\"item\":\"Navbar_item__15XME\",\"active\":\"Navbar_active__bEgna\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport s from './Header.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = (props) => {\n    return (\n      <header className={s.header}>\n        <img src='data:image/jpeg;base64,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' alt=\"logo\"/>\n\n        <div className={ s.loginBlock }>\n          { props.isAuth \n          ? <div> {props.login} - <button onClick={props.logaut}>Log aut</button> </div>\n          : <NavLink to='/login'>Login</NavLink> }\n          \n        </div>\n      </header>\n    );\n};\n\nexport default Header;\n","import { authAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst   SET_USER_DATA = 'SET_USER_DATA';\n\n\nlet initialState = {\n  \n  userId: null,\n  login: null,\n  email: null,\n  isAuth: false\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload\n      }\n    default:\n      return state;\n  }\n\n}\n        \nexport const setAuthUserData = (userId, login, email, isAuth) => ({ type: SET_USER_DATA, payload: { userId, login, email, isAuth } });\n\nexport const getAuthUserData = () => async (dispatch) => {\n  const response = await authAPI.getMe()  \n    if(response.data.resultCode === 0) {\n      let {id, login, email} = response.data.data;\n      dispatch(setAuthUserData(id, login, email, true));\n    }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n  const response = await authAPI.login(email, password, rememberMe);\n  if(response.data.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\n    dispatch(stopSubmit('contact', {_error: message}))\n  }\n};\nexport const logaut = () => async (dispatch) => {\n  const response = await authAPI.logaut();\n  if(response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\n\nexport default authReducer;\n","import React from 'react';\nimport Header from './Header';\nimport { connect } from 'react-redux';\nimport { logaut } from '../../redux/auth-reducer';\n// import { authAPI } from '../../api/api';\n\nclass HeaderContainer extends React.Component {\n\n  render() {\n    return <Header { ...this.props } />\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login\n});\n\nexport default connect(mapStateToProps, {logaut})(HeaderContainer);\n","import React from 'react';\nimport s from './Navbar.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Navbar = () => {\n  return (\n    <nav className={s.nav}>\n      <div className={`${s.item}`}>\n        <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar;\n","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;\r\n","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return {...u, ...newObjProps}\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/object-helpers\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET-USERS';\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\n\n\nlet initialState = {\n  \n  users: [],\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n        // users: state.users.map(u => u) && users: [...state.users] - записи идентичны\n        // users: state.users.map(u => {\n        //   if (u.id === action.userId) {\n        //     return {...u, followed: true}\n        //   }\n        //   return u;\n        // })\n      }\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n        // users: state.users.map(u => u) && users: [...state.users] - записи идентичны\n        // users: state.users.map(u => {\n        //   if (u.id === action.userId) {\n        //     return {...u, followed: false}\n        //   }\n        //   return u;\n        // })\n      }\n    case SET_USERS: {\n      return {...state, users: action.users}\n    }\n    case SET_CURRENT_PAGE: {\n      return {...state, currentPage: action.currentPage}\n    }\n    case SET_TOTAL_USERS_COUNT: {\n      return {...state, totalUsersCount: action.count}\n    }\n    case TOGGLE_IS_FETCHING: {\n      return {...state, isFetching: action.isFetching}\n    }\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n        ? [...state.followingInProgress, action.userId]\n        : state.followingInProgress.filter(id=>id!==action.userId)\n      }\n    }\n    default:\n      return state;\n  }\n\n}\n          // followActionCreator\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nexport const toggleIsFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\nexport const setUsers = (users) => ({ type: SET_USERS, users});\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage});\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\n\n//thunk\nexport const requestUsers = (page = 1, pageSize) => {//создатель санки\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));//диспатчим экшен-крейтер\n    dispatch(setCurrentPage(page));\n\n    const data = await usersAPI.getUsers(page, pageSize);\n    \n    dispatch(toggleIsFetching(false)); //диспатчим экшен-крейтер\n    dispatch(setUsers(data.items));//диспатчим экшен-крейтер\n    dispatch(setTotalUsersCount(data.totalCount));//диспатчим экшен-крейтер\n  }\n};\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n  dispatch(toggleIsFollowingProgress(true, userId));\n  const data = await apiMethod(userId);\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleIsFollowingProgress(false, userId));\n};\n\nexport const follow = (userId) => {//создатель санки\n  return async (dispatch) => {\n    await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n  }\n};\nexport const unfollow = (userId) => {//создатель санки\n  return async (dispatch) => {\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n  }\n};\n\nexport default usersReducer;\n","import React from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport { useState } from 'react';\r\nimport cn from \"classnames\";\r\n\r\nconst Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    const pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    const pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                onPageChanged(p);\r\n                            }}>{p}</span>\r\n           })}\r\n           { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport userPhoto from '../../assets/images/photo.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return <div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            <img src={user.photos.small !== null ? user.photos.small : userPhoto} className={styles.usersPhoto} alt=\"avatar\" />\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)}\r\n                                    onClick={() => {unfollow(user.id);}}>Unfollow</button>\r\n                            : <button disabled={ followingInProgress\r\n                                .some(id => id===user.id) }\r\n                                    onClick={() => { follow(user.id);}}>Follow</button>}\r\n                    </div>\r\n                </span>\r\n                <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{'u.location.country'}</div>\r\n                        <div>{'u.location.city'}</div>\r\n                    </span>\r\n                </span>\r\n            </div>\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport Paginator from '../common/paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, ...props}) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalUsersCount={totalUsersCount} pageSize={pageSize} />\r\n        <div>\r\n            { props.users.map(u => <User user={u}\r\n                                        key={u.id}\r\n                                        followingInProgress={props.followingInProgress}\r\n                                        unfollow={props.unfollow}\r\n                                        follow={props.follow} />)}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleIsFollowingProgress,\r\n    requestUsers\r\n} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getUsers } from '../../redux/users-selectors';\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    // constructor(props) {\r\n    //     super(props);\r\n    // }\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null }\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={ this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    />\r\n        </>\r\n    }\r\n}\r\n\r\n// const mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleIsFollowingProgress,\r\n        requestUsers\r\n    }),\r\n)(UsersAPIComponent);\r\n","import React from 'react';\r\nimport { reduxForm } from 'redux-form'\r\nimport { Element, createField } from '../common/FormControls/FormControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from './../common/FormControls/FormControls.module.css';\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    const Input = Element('input')\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                {createField('login', 'email', [required], Input)}\r\n                {createField('password', 'password', [required], Input, {type: 'password'})}\r\n                {createField(null, 'rememberMe', [], Input, {type: 'checkbox'}, 'remember me')}\r\n                {/* <div>\r\n                    <Field placeholder={'login'} name={'email'} component={Input} validate={[required]}/>  \r\n                </div>\r\n                <div>\r\n                    <Field placeholder={'password'} name={'password'} type='password' component={Input} validate={[required]}/>\r\n                </div>\r\n                <div>\r\n                    <Field type={\"checkbox\"} name={'rememberMe'} component={Input}/>\r\n                </div> */}\r\n                {error && <div className={s.formSammaryError}>\r\n                    {error}\r\n                </div>}\r\n                <div>\r\n                    <button>Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'contact' })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n    };\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />;\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import { getAuthUserData } from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\n\nlet initialState = {\n  initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      }\n    default:\n      return state;\n  }\n\n}\n        \nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\n\nexport const initializedApp = () => (dispatch) => {\n  let promise = dispatch(getAuthUserData());\n  Promise.all([promise]).then(() => dispatch(initializedSuccess()));\n}\n\nexport default appReducer;\n","let initialState =  {\r\n\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleWare from \"redux-thunk\";// импортируем thunk под именем thunkMiddleWare\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n    form: formReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; //crome redux-tools\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare))); //crome redux-tools\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleWare));//applyMiddleware- прими промежуточные слои\nwindow.__store__ = store;\n\nexport default store;\n","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    \r\n\r\n    return props => {\r\n        return <React.Suspense fallback={<Preloader />} >\r\n                    <Component {...props} />\r\n                </React.Suspense>\r\n    };\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { Route, withRouter, BrowserRouter } from 'react-router-dom';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initializedApp } from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { withSuspense } from './hoc/withSuspense';\r\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n// import ProfileContainer from './components/Profile/ProfileContainer';\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initializedApp();\r\n  }\r\n\r\n  render() {\r\n    if(!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Navbar className='navBar' />\r\n        <div className='app-wrapper-content'>\r\n          {/* <Route path='/dialogs' component={Dialogs}/>\r\n          <Route path='/profile' component={Profile}/>\r\n          <Route path='/news' component={News}/>\r\n          <Route path='/music' component={Music}/>\r\n          <Route path='/settings' component={Settings}/> */}\r\n\r\n          <Route path='/dialogs' render={ withSuspense(DialogsContainer) }/>\r\n          <Route path='/profile/:userId?' render={ withSuspense(ProfileContainer) }/>\r\n          <Route path='/news' render={ () => <News /> }/>\r\n          <Route path='/music' render={ () => <Music /> }/>\r\n          <Route path='/settings' render={ () => <Settings /> }/>\r\n          <Route path='/users' render={() => <UsersContainer />} />\r\n          <Route path='/login' render={() => <LoginPage />} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\n// export default compose(\r\n//   withRouter,\r\n//   connect(mapStateToProps, {initializedApp}))(App);\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializedApp}))(App);\r\n\r\nconst MyJSApp = (props) => {\r\n  return <BrowserRouter>\r\n            <Provider store={store}>\r\n                <AppContainer />\r\n            </Provider>\r\n          </BrowserRouter>\r\n}\r\n\r\nexport default MyJSApp;\r\n","import * as serviceWorker from './serviceWorker';\n// import store from './redux/redux-store';\n// import { rerenderEntireTree } from './render';\n// import { BrowserRouter } from 'react-router-dom';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MyJSApp from './App';\n// import App from './App';\n// import StoreContext from './storeContext';\n// import {Provider} from 'react-redux';\n\n\n\n\nReactDOM.render(<MyJSApp />, document.getElementById('root'));\n        \n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport preloader from './../../../assets/images/Spin.svg';\r\nimport styles from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n    return <img src={preloader} className={styles.preloader} alt='preloader'/>\r\n}\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport s from './FormControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n//   const hasError = meta.touched && meta.error;\r\n//   return (\r\n//     <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n//       <div>\r\n//         <textarea {...input} {...props} />\r\n//       </div>\r\n//     {hasError && <span>{meta.error}</span>}\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//   const hasError = meta.touched && meta.error;\r\n//   return (\r\n//     <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n//       <div>\r\n//         <input {...input} {...props} />\r\n//       </div>\r\n//     {hasError && <span>{meta.error}</span>}\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n//HOC\r\nexport const Element = Element => ({input, meta, ...props}) => {\r\n  const {touched, error} = meta\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n      <div>\r\n        <Element {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport const createField = (plaseholder, name, validators, component, props = {}, text = '') => (\r\n  <div>\r\n    <Field placeholder={plaseholder} name={name} component={component} validate={validators} {...props}/> {text}\r\n  </div>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__10fvL\",\"error\":\"FormControls_error__KmRjm\",\"formSammaryError\":\"FormControls_formSammaryError__hCrZs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3ycK2\",\"pageNumber\":\"Paginator_pageNumber__2ONMm\",\"selectedPage\":\"Paginator_selectedPage__3BCtE\"};","export const required = value => {\r\n  return (value) ? undefined : 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if(value.length > maxLength) return `Max length is ${maxLength} simbols`;\r\n  return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3YDhX\",\"loginBlock\":\"Header_loginBlock__2-Wcq\"};","import { usersAPI, profileAPI } from \"../api/api\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst DELETE_POST = 'DELETE_POST';\n\nlet initialState = {\n  \n  posts: [\n    // {id: 1, message: 'Hi! How are you?', likesCount: 15},\n    // {id: 2, message: 'I am fine!', likesCount: 25},\n    // {id: 3, message: 'Bla-bla!', likesCount: 12},\n    // {id: 4, message: 'Da-da!', likesCount: 27}\n  ],\n  profile: null,\n  status: '',\n\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case ADD_POST: {\n      const newPost = {\n        id: 5,\n        message: action.newPostText,\n        likesCount: 0\n      }\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n      };\n    }\n    case SET_USER_PROFILE: {\n      return {\n        ...state,\n        profile: action.profile\n      };\n    }\n    case SET_STATUS: {\n      return {\n        ...state,\n        status: action.status\n      };\n    }\n    case DELETE_POST: {\n      return {\n        ...state,\n        posts: [...state.posts.filter(p => p.id !== action.postId)]\n      };\n    }\n    default:\n      return state;\n  }\n\n}\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\nexport const deletePostAC = (postId) => ({type: DELETE_POST, postId});\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  const response = await usersAPI.getProfile(userId);\n  dispatch(setUserProfile(response.data));\n};\nexport const getStatus = (userId) => async (dispatch) => {\n  const response = await profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\nexport const updateStatus = (status) => async (dispatch) => {\n  const response = await profileAPI.updateStatus(status);\n  if(response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\n\n\n\nexport default profileReducer;\n"],"sourceRoot":""}