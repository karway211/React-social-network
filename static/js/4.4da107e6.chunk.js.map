{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/Dialogitem/Dialogitem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","path","id","className","s","dialog","active","to","name","Message","message","maxLength100","maxLengthCreator","AddMessageFormRedux","reduxForm","form","Textarea","Element","onSubmit","handleSubmit","Field","component","validate","required","placeholder","Dialogs","state","dialogsPage","dialogsElement","dialogs","map","d","key","messagesElements","messages","m","isAuth","dialogsItems","values","sendMessage","newMessageBody","compose","connect","dispatch","sendMessageCreator","withAuthRedirect"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,SAAW,4B,+FCY/HC,EATI,SAACC,GAClB,IAAIC,EAAO,YAAcD,EAAME,GAC/B,OACE,yBAAKC,UAAS,UAAKC,IAAEC,OAAP,YAAiBD,IAAEE,SAC/B,kBAAC,IAAD,CAASC,GAAIN,GAAOD,EAAMQ,QCEjBC,EAPC,SAACT,GAEf,OACE,yBAAKG,UAAWC,IAAEM,SAAUV,EAAMU,U,yCC0BhCC,EAAeC,YAAiB,KAgBhCC,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAdL,SAACd,GACtB,IAAMgB,EAAWC,YAAQ,YACzB,OACI,0BAAMC,SAAUlB,EAAMmB,cACpB,6BACE,kBAACC,EAAA,EAAD,CAAOZ,KAAK,iBAAiBa,UAAWL,EAAUM,SAAU,CAACC,IAAUZ,GAAgBa,YAAY,wBAErG,6BACE,iDAQKC,EAzCC,SAACzB,GACf,IAAK0B,EAAQ1B,EAAM2B,YACfC,EAAiBF,EAAMG,QAAQC,KAAI,SAACC,GAAD,OAAO,kBAAC,EAAD,CAAYvB,KAAMuB,EAAEvB,KAAMwB,IAAKD,EAAE7B,GAAIA,GAAI6B,EAAE7B,QACrF+B,EAAmBP,EAAMQ,SAASJ,KAAI,SAACK,GAAD,OAAO,kBAAC,EAAD,CAASzB,QAASyB,EAAEzB,QAASsB,IAAKG,EAAEjC,GAAIA,GAAIiC,EAAEjC,QAM/F,OAAIF,EAAMoC,OAER,yBAAKjC,UAAWC,IAAEyB,SAChB,yBAAK1B,UAAWC,IAAEiC,cACdT,GAEJ,yBAAKzB,UAAWC,IAAE8B,UAChB,6BAAOD,GACP,kBAACpB,EAAD,CAAqBK,SAZL,SAACoB,GACrBtC,EAAMuC,YAAYD,EAAOE,qBAGF,kBAAC,IAAD,CAAUjC,GAAI,Y,wBCG1BkC,sBACbC,aAdsB,SAAChB,GACvB,MAAO,CACLC,YAAaD,EAAMC,gBAGI,SAACgB,GAC1B,MAAO,CACLJ,YAAa,SAACC,GACZG,EAASC,YAAmBJ,SAOhCK,IAFaJ,CAGbhB","file":"static/js/4.4da107e6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2H2OL\",\"dialogsItems\":\"Dialogs_dialogsItems__3kRDL\",\"active\":\"Dialogs_active__10YjM\",\"messages\":\"Dialogs_messages__1Fy6S\"};","import React from 'react';\nimport s from './../Dialogs.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst DialogItem = (props) => {\n  let path = '/dialogs/' + props.id;\n  return (\n    <div className={`${s.dialog} ${s.active}`}>\n      <NavLink to={path}>{props.name}</NavLink>\n    </div>\n  );\n};\n\nexport default DialogItem;\n","import React from 'react';\nimport s from './../Dialogs.module.css';\n\nconst Message = (props) => {\n  \n  return (\n    <div className={s.message}>{props.message}</div>\n  );\n};\n\nexport default Message;\n","import React from 'react';\nimport s from './Dialogs.module.css';\nimport DialogItem from './Dialogitem/Dialogitem';\nimport Message from './Message/Message';\nimport { Redirect } from 'react-router-dom';\nimport { Field, reduxForm } from 'redux-form'\nimport { Element } from '../common/FormControls/FormControls';\nimport { required, maxLengthCreator } from '../../utils/validators/validators';\n\nconst Dialogs = (props) => {\n  let  state = props.dialogsPage;\n  let dialogsElement = state.dialogs.map((d) => <DialogItem name={d.name} key={d.id} id={d.id}/>);\n  let messagesElements = state.messages.map((m) => <Message message={m.message} key={m.id} id={m.id} />);\n\n  const addNewMessage = (values) => {\n    props.sendMessage(values.newMessageBody);\n  }\n\n  if(!props.isAuth) return <Redirect to={'/login'} />\n  return (\n    <div className={s.dialogs}>\n      <div className={s.dialogsItems}>\n        { dialogsElement }\n      </div>\n      <div className={s.messages}>\n        <div>{ messagesElements }</div>\n        <AddMessageFormRedux onSubmit={addNewMessage} />\n      </div>\n    </div>\n  );\n}\n\nconst maxLength100 = maxLengthCreator(100);\n\nconst AddMessageForm = (props) => {\n  const Textarea = Element('textarea');\n  return (\n      <form onSubmit={props.handleSubmit}>\n        <div>\n          <Field name='newMessageBody' component={Textarea} validate={[required, maxLength100]}  placeholder='Enter Your message' />\n        </div>\n        <div>\n          <button>Add Post</button>\n        </div>\n      </form>\n  )\n}\n\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)\n\nexport default Dialogs;\n","import React from 'react';\nimport {sendMessageCreator} from '../../redux/dialogs-reducer';\nimport Dialogs from './Dialogs';\n// import StoreContext from '../../storeContext';\nimport { connect } from 'react-redux';\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\nimport { compose } from 'redux';\n\nconst mapStateToProps = (state) => {\n  return {\n    dialogsPage: state.dialogsPage\n  }\n}\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    sendMessage: (newMessageBody) => {\n      dispatch(sendMessageCreator(newMessageBody));\n    }\n  }\n}\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n  withAuthRedirect\n)(Dialogs);\n"],"sourceRoot":""}