{"version":3,"sources":["assets/images/photo.png","api/api.js","redux/dialogs-reducer.js","assets/images/Spin.svg","components/common/Preloader/Preloader.module.css","assets/images/React-icon.png","hoc/withAuthRedirect.jsx","components/Navbar/Navbar.module.css","serviceWorker.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reducer.js","components/common/paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","hoc/withSuspense.jsx","App.js","index.js","components/common/Preloader/Preloader.js","components/common/FormControls/FormControls.jsx","components/Users/Users.module.css","components/common/FormControls/FormControls.module.css","utils/validators/validators.js","components/common/paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["module","exports","instance","Axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","response","data","unfollow","id","delete","follow","post","getProfile","userId","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","getMe","login","email","password","rememberMe","captcha","logaut","securityAPI","getCaptchaUrl","initialState","dialogs","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","mapStateToPropsForRedirect","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","Boolean","window","location","hostname","match","Header","className","s","header","src","alt","loginBlock","onClick","captchaUrl","setAuthUserData","payload","getCaptchaUrlSucces","getAuthUserData","dispatch","a","resultCode","url","authReducer","HeaderContainer","Navbar","nav","item","activeClassName","active","News","Music","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","toggleIsFollowingProgress","setUsers","setCurrentPage","setTotalUsersCount","count","toggleIsFetching","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","filter","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","p","cn","selectedPage","pageNumber","key","e","User","user","userWrapper","photos","small","userPhoto","usersPhoto","disabled","some","Users","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersAPIComponent","requestUsers","Preloader","compose","bind","page","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","error","Input","Element","onSubmit","createField","required","formSammaryError","length","stopSubmit","_error","log","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","__store__","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializedApp","exact","path","render","UsersContainer","ReactPhoto","AppContainer","withRouter","promise","Promise","all","then","MyJSApp","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","input","meta","touched","hasError","formControl","plaseholder","validators","component","text","placeholder","validate","value","undefined","maxLengthCreator","maxLength","posts","addPostActionCreator","newPostText","setStatus","getUserProfile","title","getState","reject","newPost","likesCount","postId"],"mappings":"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","file":"static/js/main.60d3a253.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/photo.67d30f6f.png\";","import Axios from \"axios\";\r\n\r\nconst instance = Axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"f9529b93-30b8-4394-b072-ee0546f292c2\"\r\n    }\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    async getUsers(currentPage = 1, pageSize = 10) {\r\n        const response = await instance.get(`users?page=${currentPage}&count=${pageSize}`);\r\n        return response.data;\r\n    },\r\n    async unfollow(id) {\r\n        const response = await instance.delete(`follow/${id}`);\r\n        return response.data;\r\n    },\r\n    async follow(id) {\r\n        const response = await instance.post(`follow/${id}`);\r\n        return response.data;\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n        // return instance.get(`profile/${userId}`)\r\n    }\r\n};\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile);\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile);\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    // async getMe() {\r\n    //     const response = await instance.get(`auth/me`);\r\n    //     return response.data;\r\n    // },\r\n    getMe(){\r\n       return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha = null) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha});\r\n    },\r\n    logaut() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n};\r\nexport const securityAPI = {\r\n    getCaptchaUrl(){\r\n       return instance.get(`security/get-captcha-url`);\r\n    }\r\n};\r\n","\nconst SEND_MESSAGE = 'SEND-MESSAGE';\n\nlet initialState = {\n  \n  dialogs: [\n    {id: 1, name: 'Andrey'},\n    {id: 2, name: 'Dima'},\n    {id: 3, name: 'Sveta'},\n    {id: 4, name: 'Valera'},\n    {id: 5, name: 'Victor'},\n    {id: 6, name: 'Sasha'}\n  ],\n\n  messages: [\n    {id: 1, message: 'Hi'},\n    {id: 2, message: 'How are you'},\n    {id: 3, message: 'Yo'},\n    {id: 4, message: 'Yo'},\n    {id: 5, message: 'Yo'},\n    {id: 6, message: 'Yo'}\n  ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n\n  switch(action.type) {\n    \n    case SEND_MESSAGE:\n      let message = action.newMessageBody;\n      return {\n        ...state,\n        messages: [...state.messages, {id: 7, message}]\n      };\n    default:\n      return state;\n  }\n  \n}\n\nexport const sendMessageCreator = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody });\n\nexport default dialogsReducer;\n","module.exports = __webpack_public_path__ + \"static/media/Spin.1336a69b.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1yHYn\"};","module.exports = __webpack_public_path__ + \"static/media/React-icon.31987a52.png\";","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2xKqi\",\"item\":\"Navbar_item__15XME\",\"active\":\"Navbar_active__bEgna\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport s from './Header.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = (props) => {\n    return (\n      <header className={s.header}>\n        <img src='http://pngimg.com/uploads/owl/owl_PNG45.png' alt=\"logo\"/>\n\n        <div className={ s.loginBlock }>\n          { props.isAuth \n          ? <div> {props.login} - <button onClick={props.logaut}>Log aut</button> </div>\n          : <NavLink to='/login'>Login</NavLink> }\n          \n        </div>\n      </header>\n    );\n};\n\nexport default Header;\n","import { authAPI, securityAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst   SET_USER_DATA = 'SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS';\n\n\nlet initialState = {\n  \n  userId: null,\n  login: null,\n  email: null,\n  isAuth: false,\n  captchaUrl: null\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case GET_CAPTCHA_URL_SUCCESS:\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload\n      }\n    default:\n      return state;\n  }\n\n}\n\n//ac\nexport const setAuthUserData = (userId, login, email, isAuth) => ({ type: SET_USER_DATA, payload: { userId, login, email, isAuth } });\nexport const getCaptchaUrlSucces = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}});\n\n//thunk\nexport const getAuthUserData = () => async (dispatch) => {\n  const response = await authAPI.getMe()  \n    if(response.data.resultCode === 0) {\n      let {id, login, email} = response.data.data;\n      dispatch(setAuthUserData(id, login, email, true));\n    }\n};\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n  const response = await authAPI.login(email, password, rememberMe, captcha);\n  if(response.data.resultCode === 0) {\n    dispatch(getAuthUserData());\n  } else {\n    if(response.data.resultCode === 10){\n      dispatch(getCaptchaUrl());\n    }\n    const message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\n    dispatch(stopSubmit('contact', {_error: message}))\n  }\n};\n\nexport const getCaptchaUrl = () => async dispatch => {\n  const response = await securityAPI.getCaptchaUrl();\n  const captchaUrl =  response.data.url;\n  dispatch(getCaptchaUrlSucces(captchaUrl));\n};\n\nexport const logaut = () => async (dispatch) => {\n  const response = await authAPI.logaut();\n  if(response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\n\nexport default authReducer;\n","import React from 'react';\nimport Header from './Header';\nimport { connect } from 'react-redux';\nimport { logaut } from '../../redux/auth-reducer';\n// import { authAPI } from '../../api/api';\n\nclass HeaderContainer extends React.Component {\n\n  render() {\n    return <Header { ...this.props } />\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login\n});\n\nexport default connect(mapStateToProps, {logaut})(HeaderContainer);\n","import React from 'react';\nimport s from './Navbar.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Navbar = () => {\n  return (\n    <nav className={s.nav}>\n      <div className={`${s.item}`}>\n        <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar;\n","import React from 'react';\r\nimport s from './News.module.css';\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default News;\r\n","import React from 'react';\r\nimport s from './Music.module.css';\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react';\r\nimport s from './Settings.module.css';\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Settings;\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return {...u, ...newObjProps}\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/object-helpers\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET-USERS';\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET-TOTAL-USERS-COUNT'\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING'\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS'\n\n\nlet initialState = {\n  \n  users: [],\n  pageSize: 10,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n        // users: state.users.map(u => u) && users: [...state.users] - записи идентичны\n        // users: state.users.map(u => {\n        //   if (u.id === action.userId) {\n        //     return {...u, followed: true}\n        //   }\n        //   return u;\n        // })\n      }\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n        // users: state.users.map(u => u) && users: [...state.users] - записи идентичны\n        // users: state.users.map(u => {\n        //   if (u.id === action.userId) {\n        //     return {...u, followed: false}\n        //   }\n        //   return u;\n        // })\n      }\n    case SET_USERS: {\n      return {...state, users: action.users}\n    }\n    case SET_CURRENT_PAGE: {\n      return {...state, currentPage: action.currentPage}\n    }\n    case SET_TOTAL_USERS_COUNT: {\n      return {...state, totalUsersCount: action.count}\n    }\n    case TOGGLE_IS_FETCHING: {\n      return {...state, isFetching: action.isFetching}\n    }\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n        ? [...state.followingInProgress, action.userId]\n        : state.followingInProgress.filter(id=>id!==action.userId)\n      }\n    }\n    default:\n      return state;\n  }\n\n}\n          // followActionCreator\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nexport const toggleIsFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\nexport const setUsers = (users) => ({ type: SET_USERS, users});\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage});\nexport const setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount });\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\n\n//thunk\nexport const requestUsers = (page = 1, pageSize) => {//создатель санки\n  return async (dispatch) => {\n    dispatch(toggleIsFetching(true));//диспатчим экшен-крейтер\n    dispatch(setCurrentPage(page));\n\n    const data = await usersAPI.getUsers(page, pageSize);\n    \n    dispatch(toggleIsFetching(false)); //диспатчим экшен-крейтер\n    dispatch(setUsers(data.items));//диспатчим экшен-крейтер\n    dispatch(setTotalUsersCount(data.totalCount));//диспатчим экшен-крейтер\n  }\n};\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n  dispatch(toggleIsFollowingProgress(true, userId));\n  const data = await apiMethod(userId);\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleIsFollowingProgress(false, userId));\n};\n\nexport const follow = (userId) => {//создатель санки\n  return async (dispatch) => {\n    await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n  }\n};\nexport const unfollow = (userId) => {//создатель санки\n  return async (dispatch) => {\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n  }\n};\n\nexport default usersReducer;\n","import React from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport { useState } from 'react';\r\nimport cn from \"classnames\";\r\n\r\nconst Paginator = ({totalUsersCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    const pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n    const pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                onPageChanged(p);\r\n                            }}>{p}</span>\r\n           })}\r\n           { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n    </div>\r\n}\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport styles from './Users.module.css';\r\nimport userPhoto from '../../assets/images/photo.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return <div>\r\n        <div className={styles.userWrapper}>\r\n            <div className={styles.item}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small !== null ? user.photos.small : userPhoto} className={styles.usersPhoto} alt=\"avatar\" />\r\n                </NavLink>\r\n            </div>\r\n            <div className={styles.item}>\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress\r\n                        .some(id => id === user.id)}\r\n                            onClick={() => {unfollow(user.id);}}>Unfollow</button>\r\n                    : <button disabled={ followingInProgress\r\n                        .some(id => id===user.id) }\r\n                            onClick={() => { follow(user.id);}}>Follow</button>}\r\n            </div>\r\n            <div className={styles.item}>\r\n                <div>\r\n                    <div><b>{user.name}</b></div>\r\n                    <div>{user.status}</div>\r\n                </div>\r\n                <div>\r\n                    <div>{'u.location.country'}</div>\r\n                    <div>{'u.location.city'}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport Paginator from '../common/paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({currentPage, onPageChanged, totalUsersCount, pageSize, ...props}) => {\r\n\r\n    return <div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalUsersCount={totalUsersCount} pageSize={pageSize} />\r\n        <div>\r\n            { props.users.map(u => <User user={u}\r\n                                        key={u.id}\r\n                                        followingInProgress={props.followingInProgress}\r\n                                        unfollow={props.unfollow}\r\n                                        follow={props.follow} />)}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress;\r\n};","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    toggleIsFollowingProgress,\r\n    requestUsers\r\n} from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress, getUsers } from '../../redux/users-selectors';\r\n\r\nclass UsersAPIComponent extends React.Component {\r\n    // constructor(props) {\r\n    //     super(props);\r\n    // }\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null }\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={ this.props.pageSize}\r\n                    currentPage={this.props.currentPage}\r\n                    onPageChanged={this.onPageChanged}\r\n                    users={this.props.users}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    />\r\n        </>\r\n    }\r\n}\r\n\r\n// const mapStateToProps = (state) => {\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    // withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleIsFollowingProgress,\r\n        requestUsers\r\n    }),\r\n)(UsersAPIComponent);\r\n","import React from 'react';\r\nimport { reduxForm } from 'redux-form'\r\nimport { Element, createField } from '../common/FormControls/FormControls';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport s from './../common/FormControls/FormControls.module.css';\r\n\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    const Input = Element('input')\r\n    return (\r\n        <div>\r\n            <form onSubmit={handleSubmit}>\r\n                {createField('login', 'email', [required], Input)}\r\n                {createField('password', 'password', [required], Input, {type: 'password'})}\r\n                {createField(null, 'rememberMe', [], Input, {type: 'checkbox'}, 'remember me')}\r\n                { captchaUrl && <img src={captchaUrl} /> }\r\n                { captchaUrl && createField('Simbols from image', 'captcha', [required], Input) }\r\n                {error && <div className={s.formSammaryError}>\r\n                    {error}\r\n                </div>}\r\n                <div>\r\n                    <button>Login</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'contact' })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        console.log(formData);\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    };\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'} />;\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);\r\n","import { getAuthUserData } from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\n\n\nlet initialState = {\n  initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true\n      }\n    default:\n      return state;\n  }\n\n}\n        \nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\n\nexport const initializedApp = () => (dispatch) => {\n  let promise = dispatch(getAuthUserData());\n  Promise.all([promise]).then(() => dispatch(initializedSuccess()));\n}\n\nexport default appReducer;\n","let initialState =  {\r\n\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport sidebarReducer from \"./sidebar-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport thunkMiddleWare from \"redux-thunk\";// импортируем thunk под именем thunkMiddleWare\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n    form: formReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; //crome redux-tools\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare))); //crome redux-tools\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleWare));//applyMiddleware- прими промежуточные слои\nwindow.__store__ = store;\n\nexport default store;\n","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n    \r\n\r\n    return props => {\r\n        return <React.Suspense fallback={<Preloader />} >\r\n                    <Component {...props} />\r\n                </React.Suspense>\r\n    };\r\n}\r\n","import React from 'react';\r\nimport './App.css';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { Route, withRouter, HashRouter, Redirect, Switch, BrowserRouter } from 'react-router-dom';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport LoginPage from './components/Login/Login';\r\nimport { connect, Provider } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { initializedApp } from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { withSuspense } from './hoc/withSuspense';\r\nimport ReactPhoto from './assets/images/React-icon.png';\r\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\r\n// import ProfileContainer from './components/Profile/ProfileContainer';\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initializedApp();\r\n  }\r\n\r\n  render() {\r\n    if(!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Navbar className='navBar' />\r\n        <div className='app-wrapper-content'>\r\n          <Switch>\r\n            <Route exact path='/' render={() => <Redirect to='/profile'/> }/>\r\n            <Route path='/dialogs' render={ withSuspense(DialogsContainer) }/>\r\n            <Route path='/profile/:userId?' render={ withSuspense(ProfileContainer) }/>\r\n            <Route path='/news' render={ () => <News /> }/>\r\n            <Route path='/music' render={ () => <Music /> }/>\r\n            <Route path='/settings' render={ () => <Settings /> }/>\r\n            <Route path='/users' render={() => <UsersContainer />} />\r\n            <Route path='/login' render={() => <LoginPage />} />\r\n          </Switch>\r\n          <div className='way'>\r\n            <img src={ReactPhoto} alt=\"img\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\n// export default compose(\r\n//   withRouter,\r\n//   connect(mapStateToProps, {initializedApp}))(App);\r\n\r\nlet AppContainer = compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializedApp}))(App);\r\n\r\nconst MyJSApp = (props) => {\r\n  return <BrowserRouter>\r\n            <Provider store={store}>\r\n                <AppContainer />\r\n            </Provider>\r\n          </BrowserRouter>\r\n}\r\n\r\nexport default MyJSApp;\r\n","import * as serviceWorker from './serviceWorker';\n// import store from './redux/redux-store';\n// import { rerenderEntireTree } from './render';\n// import { BrowserRouter } from 'react-router-dom';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MyJSApp from './App';\n// import App from './App';\n// import StoreContext from './storeContext';\n// import {Provider} from 'react-redux';\n\n\n\n\nReactDOM.render(<MyJSApp />, document.getElementById('root'));\n        \n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport preloader from './../../../assets/images/Spin.svg';\r\nimport styles from './Preloader.module.css';\r\n\r\nconst Preloader = (props) => {\r\n    return <img src={preloader} className={styles.preloader} alt='preloader'/>\r\n}\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport s from './FormControls.module.css';\r\nimport { Field } from 'redux-form';\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n//   const hasError = meta.touched && meta.error;\r\n//   return (\r\n//     <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n//       <div>\r\n//         <textarea {...input} {...props} />\r\n//       </div>\r\n//     {hasError && <span>{meta.error}</span>}\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//   const hasError = meta.touched && meta.error;\r\n//   return (\r\n//     <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n//       <div>\r\n//         <input {...input} {...props} />\r\n//       </div>\r\n//     {hasError && <span>{meta.error}</span>}\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n//HOC\r\nexport const Element = Element => ({input, meta, ...props}) => {\r\n  const {touched, error} = meta\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n      <div>\r\n        <Element {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport const createField = (plaseholder, name, validators, component, props = {}, text = '') => (\r\n  <div>\r\n    <Field placeholder={plaseholder} name={name} component={component} validate={validators} {...props}/> {text}\r\n  </div>\r\n)\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__1j7BB\",\"cursorPointer\":\"Users_cursorPointer__1LPW4\",\"userWrapper\":\"Users_userWrapper__Rh9jJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__10fvL\",\"error\":\"FormControls_error__KmRjm\",\"formSammaryError\":\"FormControls_formSammaryError__hCrZs\"};","export const required = value => {\r\n  return (value) ? undefined : 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if(value.length > maxLength) return `Max length is ${maxLength} simbols`;\r\n  return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3ycK2\",\"pageNumber\":\"Paginator_pageNumber__2ONMm\",\"selectedPage\":\"Paginator_selectedPage__3BCtE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3YDhX\",\"loginBlock\":\"Header_loginBlock__2-Wcq\"};","import { usersAPI, profileAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst DELETE_POST = 'DELETE_POST';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n  \n  posts: [\n    // {id: 1, message: 'Hi! How are you?', likesCount: 15},\n    // {id: 2, message: 'I am fine!', likesCount: 25},\n    // {id: 3, message: 'Bla-bla!', likesCount: 12},\n    // {id: 4, message: 'Da-da!', likesCount: 27}\n  ],\n  profile: null,\n  status: '',\n\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case ADD_POST: {\n      const newPost = {\n        id: 5,\n        message: action.newPostText,\n        likesCount: 0\n      }\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n      };\n    }\n    case SET_USER_PROFILE: {\n      return {\n        ...state,\n        profile: action.profile\n      };\n    }\n    case SET_STATUS: {\n      return {\n        ...state,\n        status: action.status\n      };\n    }\n    case DELETE_POST: {\n      return {\n        ...state,\n        posts: [...state.posts.filter(p => p.id !== action.postId)]\n      };\n    }\n    case SAVE_PHOTO_SUCCESS: {\n      return {\n        ...state,\n        profile: {...state.profile, photos: action.photos}\n      };\n    }\n    default:\n      return state;\n  }\n\n}\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile });\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\nexport const deletePostAC = (postId) => ({type: DELETE_POST, postId});\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  try {\n    const response = await usersAPI.getProfile(userId);\n    dispatch(setUserProfile(response.data));\n  } catch(error) {\n    return;\n  }\n};\nexport const getStatus = (userId) => async (dispatch) => {\n  try {\n    const response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response.data));\n  } catch(error) {\n    return;\n  }\n};\nexport const updateStatus = (status) => async (dispatch) => {\n  try {\n    const response = await profileAPI.updateStatus(status);\n    if(response.data.resultCode === 0) {\n      dispatch(setStatus(status));\n    }\n  } catch(error) {\n    return;\n  }\n};\nexport const savePhoto = (title) => async (dispatch) => {\n  const response = await profileAPI.savePhoto(title);\n  if(response.data.resultCode === 0) {\n    dispatch(savePhotoSuccess(response.data.data.photos));\n  }\n};\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n  const userId = getState().auth.userId;\n  const response = await profileAPI.saveProfile(profile);\n  if(response.data.resultCode === 0) {\n    dispatch(getUserProfile(userId));\n  } else {\n    dispatch(stopSubmit('edit-profile', {_error: response.data.messages[0]}));\n    return Promise.reject(response.data.messages[0]);\n  }\n};\n\n\n\nexport default profileReducer;\n"],"sourceRoot":""}